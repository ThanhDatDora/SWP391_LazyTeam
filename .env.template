# ===================================
# MINI COURSERA - ENVIRONMENT TEMPLATE
# ===================================
# Copy to .env.local (frontend root) and backend/.env (backend folder)

# ===== SERVER CONFIGURATION =====
PORT=3001
NODE_ENV=development
FRONTEND_URL=http://localhost:5173

# ===== DATABASE CONFIGURATION =====
DB_SERVER=localhost
DB_NAME=MiniCourseraDB
DB_USER=<YOUR_SQL_USER>
DB_PASSWORD=<YOUR_SQL_PASSWORD>
DB_PORT=1433
DB_ENCRYPT=false
DB_TRUST_CERT=true
DB_POOL_MIN=0
DB_POOL_MAX=10
DB_IDLE_TIMEOUT_MS=30000

# ===== AUTHENTICATION =====
# Generate secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=<GENERATE_RANDOM_64_CHAR_HEX_STRING>
JWT_EXPIRES_IN=24h
SESSION_SECRET=<ANOTHER_RANDOM_SECRET>

# ===== REDIS CACHE (OPTIONAL) =====
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=<YOUR_REDIS_PASSWORD>
REDIS_TTL=3600

# ===== EMAIL CONFIGURATION =====
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=<YOUR_EMAIL@gmail.com>
SMTP_PASS=<YOUR_GMAIL_APP_PASSWORD>
EMAIL_FROM=Mini Coursera <noreply@minicoursera.com>

# ===== PAYMENT GATEWAYS =====

# VNPay Configuration
VNPAY_TMN_CODE=<YOUR_TMN_CODE>
VNPAY_HASH_SECRET=<YOUR_HASH_SECRET>
VNPAY_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
VNPAY_RETURN_URL=http://localhost:5173/checkout/vnpay-return
VNPAY_VERSION=2.1.0

# SePay Configuration
SEPAY_API_KEY=<YOUR_SEPAY_API_KEY>
SEPAY_API_URL=https://my.sepay.vn/userapi
BANK_CODE=<YOUR_BANK_CODE>
BANK_NAME=<YOUR_BANK_NAME>
BANK_ACCOUNT_NUMBER=<YOUR_ACCOUNT_NUMBER>
BANK_ACCOUNT_NAME=<YOUR_ACCOUNT_NAME_IN_UPPERCASE>
SEPAY_WEBHOOK_URL=http://localhost:3001/api/payment/sepay/webhook
SEPAY_WEBHOOK_SECRET=<RANDOM_SECRET_FOR_WEBHOOK>

# SePay PG (Alternative)
SEPAY_ENV=sandbox
SEPAY_MERCHANT_ID=<YOUR_MERCHANT_ID>
SEPAY_SECRET_KEY=<YOUR_SECRET_KEY>
SEPAY_SUCCESS_URL=http://localhost:5173/payment/sepay/success
SEPAY_ERROR_URL=http://localhost:5173/payment/sepay/error
SEPAY_CANCEL_URL=http://localhost:5173/payment/sepay/cancel
SEPAY_IPN_URL=http://localhost:3001/api/payment/sepay/ipn

# ===== SECURITY =====
CORS_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:5175,http://localhost:5176
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
AUTH_RATE_LIMIT_MAX=10000

# ===== LOGGING =====
LOG_LEVEL=debug
LOG_FILE_PATH=./logs/app.log
DEBUG_AUTH=false

# ===== FILE UPLOAD =====
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,pdf,doc,docx,mp4,webm

# ===== MONITORING (OPTIONAL) =====
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=
GOOGLE_ANALYTICS_ID=

# ===== WEBSOCKET =====
WEBSOCKET_ENABLED=true
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=5000
